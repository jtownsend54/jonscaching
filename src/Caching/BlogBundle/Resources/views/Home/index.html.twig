{% extends '::base.html.twig' %}

{% block stylesheets %}
{{ parent() }}
{% stylesheets
    '@CachingBlogBundle/Resources/public/css/*'
    output='js/styles.css'
%}
    <link href="{{ asset('js/bootstrap/css/bootstrap.min.css') }}" rel="stylesheet" type="text/css" />
    <link href="{{ asset('js/jquery-ui-1.8.16.custom/css/eggplant/jquery-ui-1.8.16.custom.css') }}" rel="stylesheet" type="text/css" />
    <link href="{{ asset('js/fancybox/jquery.fancybox-1.3.4.css') }}" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="{{ asset_url }}" />
{% endstylesheets %}
{% endblock %}

{% block body %}
    <div class="container">
    {% if is_granted('ROLE_ADMIN') %}
        <h2>Welcome back {{ user.username }}</h2>
        <form id="new-entry" action="{{ path('create_entry') }}" method="post" {{ form_enctype(form) }}>
            {{ form_errors(form) }}
            <div class="row">
                <div class="span4">
                    <div class="form-part">
                        {{ form_label(form.title, 'Entry Title', { 'attr': {'class': 'span1'} }) }}
                        <div class="input">
                            {{ form_widget(form.title, { 'attr': {'class': 'span2'} }) }}
                        </div>
                    </div>
                    <div class="form-part">
                        {{ form_label(form.route_area, 'Route Area', { 'attr': {'class': 'span1'} }) }}
                        <div class="input">
                            {{ form_widget(form.route_area, { 'attr': {'class': 'span2'} }) }}
                        </div>
                    </div>
                    <div class="form-part">
                        {{ form_label(form.attachment, 'Route File (.gpx)', { 'attr': {'class': 'span1'} }) }}
                        <div class="input">
                            {{ form_widget(form.attachment, { 'attr': {'class': 'span2'} }) }}
                        </div>
                    </div>
                </div>
                <div class="span8">
                    <div class="form-part">
                        {{ form_label(form.entry, 'Entry', { 'attr': {'class': 'span1'} }) }}
                        <div class="input">
                            {{ form_widget(form.entry, { 'attr': {'class': 'span6'} }) }}
                        </div>
                    </div>
                </div>
            </div>
            {{ form_rest(form) }}

            <input type="submit" value="Add Entry" class="btn btn-primary"/>
        </form>
        {#<div id="uploader">#}
            {#<div class="title-bar row">#}
                {#<span class="span5">Filename</span>#}
                {#<span class="span1">Size</span>#}
            {#</div>#}
            {#<div id="files"></div>#}
            {#<div id="filebar">#}
                {#<button id="upload" class="btn btn-primary">Upload<i class="icon-upload"></i></button>#}
                {#<button id="clear" class="btn">Clear<i class="icon-trash"></i></button>#}
            {#</div>#}
        {#</div>#}
        <div id="uploader"></div>
    {% endif %}
    {% for entry in entries %}
        <article class="entry">
            <h1>{{ entry.title }}</h1>
            <h4><a href="{{ path('view_route', { 'id': entry.Route.id }) }}">{{ entry.Route.area }}</a> {{ entry.created|date('F j, Y') }}</h4>
            <p class="fl">
                {{ entry.entry|raw }}
            </p>
            <div class="images fl">
                <div class="image fl">
                    <a href="{{ asset('images/fisk_property/views/icy_road.jpg') }}" rel="group1">
                        <img class="fl" src="{{ asset('images/fisk_property/thumbs/icy_road_thumb.jpg') }}" />
                    </a>
                </div>
                <div class="image fl">
                    <a href="{{ asset('images/fisk_property/views/mossy_rocks.jpg') }}" rel="group1">
                        <img class="fl" src="{{ asset('images/fisk_property/thumbs/mossy_rocks_thumb.jpg') }}" />
                    </a>
                </div>
                <div class="image fl">
                    <a href="{{ asset('images/fisk_property/views/river_far_shoreline.jpg') }}" rel="group1">
                        <img class="fl" src="{{ asset('images/fisk_property/thumbs/river_far_shoreline_thumb.jpg') }}" />
                    </a>
                </div>
                <div class="image fl">
                    <a href="{{ asset('images/fisk_property/views/river_background.jpg') }}" rel="group1">
                        <img class="fl" src="{{ asset('images/fisk_property/thumbs/river_background_thumb.jpg') }}" />
                    </a>
                </div>
                <div class="image fl">
                    <a href="{{ asset('images/fisk_property/views/ducks.jpg') }}" rel="group1">
                        <img class="fl" src="{{ asset('images/fisk_property/thumbs/ducks_thumb.jpg') }}" />
                    </a>
                </div>
                <div class="image fl">
                    <a href="{{ asset('images/fisk_property/views/trees.jpg') }}" rel="group1">
                        <img class="fl" src="{{ asset('images/fisk_property/thumbs/trees_thumb.jpg') }}" />
                    </a>
                </div>
                <div class="image fl">
                    <a href="{{ asset('images/fisk_property/views/down_river.jpg') }}" rel="group1">
                        <img class="fl" src="{{ asset('images/fisk_property/thumbs/down_river_thumb.jpg') }}" />
                    </a>
                </div>
                <div class="image fl">
                    <a href="{{ asset('images/fisk_property/views/near_shoreline.jpg') }}" rel="group1">
                        <img class="fl" src="{{ asset('images/fisk_property/thumbs/near_shoreline_thumb.jpg') }}" />
                    </a>
                </div>
                <div class="image fl">
                    <a href="{{ asset('images/fisk_property/views/up_river.jpg') }}" rel="group1">
                        <img class="fl" src="{{ asset('images/fisk_property/thumbs/up_river_thumb.jpg') }}" />
                    </a>
                </div>
            </div>
            <div class="clear"></div>
        </article>
    {% endfor %}
    </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js" type="text/javascript"></script>
    <script src="{{ asset('js/bootstrap/js/bootstrap.min.js') }}" type="text/javascript"></script>
    <script src="{{ asset('js/fancybox/jquery.fancybox-1.3.4.pack.js') }}" type="text/javascript"></script>
    <script src="{{ asset('js/masonry/jquery.masonry.min.js') }}" type="text/javascript"></script>
    <script src="{{ asset('bundles/cachingblog/js/fileUploader.jquery.js') }}" type="text/javascript"></script>
    <script src="{{ asset('bundles/cachingblog/js/scripts.js') }}" type="text/javascript"></script>
{% endblock %}
